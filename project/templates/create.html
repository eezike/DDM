{% extends "base.html" %}

{% block content %}
<div class="column is-4 is-offset-4">
   <h3 class="title">Submit Questions</h3>
   <div class="box">
       <form method="POST" action="/xxxx">
           <div id="question-fields">
               <div class="field">
                   <div class="control">
                       <input class="input" type="text" name="questions[]" placeholder="Question 1" required>
                   </div>
               </div>
           </div>
           <div class="field">
               <div class="control">
                   <button type="button" class="button is-info" id="add-question">Add Question</button>
                   <button type="button" class="button is-danger" id="remove-question" disabled>Remove Question</button>
               </div>
           </div>
           <button type="submit" class="button is-primary is-fullwidth">Submit</button>
       </form>
   </div>
</div>
{% endblock %}

{% block scripts %}
<script>
   let questionCount = 1;

   const addQuestionButton = document.getElementById('add-question');
   const removeQuestionButton = document.getElementById('remove-question');
   const questionFields = document.getElementById('question-fields');

   addQuestionButton.addEventListener('click', () => {
       questionCount++;
       const newField = document.createElement('div');
       newField.classList.add('field');
       newField.innerHTML = `
           <div class="control">
               <input class="input" type="text" name="questions[]" placeholder="Question ${questionCount}" required>
           </div>
       `;
       questionFields.appendChild(newField);
       removeQuestionButton.disabled = false;
   });

   removeQuestionButton.addEventListener('click', () => {
       if (questionCount > 1) {
           questionCount--;
           questionFields.removeChild(questionFields.lastChild);
           if (questionCount === 1) {
               removeQuestionButton.disabled = true;
           }
       }
   });
</script>
{% endblock %}